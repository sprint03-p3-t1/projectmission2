# 📋 입찰메이트 - RFP RAG 시스템 사용법

## 🚀 빠른 시작

### 1. 환경 설정

```bash
# 1. 가상환경 활성화
source .venv/bin/activate

# 2. OpenAI API 키 설정
export OPENAI_API_KEY="your-openai-api-key-here"

# 3. 시스템 실행
python run_rag_system.py
```

### 2. 실행 모드 선택

시스템 실행 시 다음 중 하나를 선택할 수 있습니다:

1. **웹 인터페이스 (권장)**: Streamlit 기반 사용자 친화적 인터페이스
2. **콘솔 모드**: 터미널에서 직접 질의응답
3. **패키지 설치만**: 필요한 라이브러리만 설치

## 📊 주요 기능

### 1. 대시보드
- 전체 문서 통계 (문서 수, 청크 수, 평균 사업금액 등)
- 발주기관별 공고 분포 차트
- 최근 공고 목록

### 2. 문서 검색
- **키워드 검색**: 사업명에서 특정 키워드 검색
- **발주기관 필터**: 특정 기관의 공고만 조회
- **사업금액 범위**: 최소/최대 금액으로 필터링

### 3. 질의응답
- **자연어 질문**: 한국어로 자유롭게 질문
- **컨텍스트 유지**: 이전 대화 맥락을 기억
- **정확한 답변**: 문서 기반의 신뢰할 수 있는 정보 제공

## 💡 질문 예시

### 기본 정보 조회
```
"한국사학진흥재단이 발주한 사업들을 알려주세요."
"사업금액이 10억원 이상인 프로젝트들을 찾아주세요."
"대학정보시스템 관련 사업의 주요 내용을 요약해주세요."
```

### 상세 요구사항 분석
```
"입찰 참가 자격 요건이 있는 사업들을 알려주세요."
"제출해야 할 서류 목록을 정리해주세요."
"평가 기준과 배점을 알려주세요."
```

### 비교 분석
```
"고려대학교와 한국사학진흥재단 사업의 차이점은 무엇인가요?"
"시스템 구축 사업과 고도화 사업의 특징을 비교해주세요."
"사업 기간이 가장 긴 프로젝트는 무엇인가요?"
```

## 🛠️ 고급 사용법

### 1. 프로그래밍 방식 사용

```python
from src.rfp_rag_system import RFPRAGSystem

# 시스템 초기화
rag_system = RFPRAGSystem(
    json_dir="data/preprocess/json",
    openai_api_key="your-api-key"
)
rag_system.initialize()

# 질문하기
response = rag_system.ask("한국사학진흥재단 사업의 요구사항을 알려주세요.")
print(response)

# 문서 검색
results = rag_system.search_documents(
    발주기관="한국사학진흥재단",
    최소금액=100000000
)
```

### 2. 필터링 옵션

문서 검색 시 다음 필터를 사용할 수 있습니다:

- `키워드`: 사업명에 포함된 키워드
- `발주기관`: 특정 발주기관
- `최소금액`: 최소 사업금액 (원)
- `최대금액`: 최대 사업금액 (원)

### 3. 설정 커스터마이징

`config/rag_config.yaml` 파일을 수정하여 다음을 조정할 수 있습니다:

- 청킹 크기 및 중첩도
- 검색 결과 개수 (top_k)
- LLM 모델 및 파라미터
- 임베딩 모델

## 📈 성능 최적화 팁

### 1. 초기 로딩 시간 단축
- 처음 실행 시 임베딩 생성으로 시간이 걸릴 수 있습니다
- 이후 실행에서는 캐시된 결과를 사용하여 빠르게 시작됩니다

### 2. 질문 최적화
- 구체적이고 명확한 질문을 하세요
- 한 번에 여러 질문보다는 하나씩 질문하세요
- 맥락이 필요한 경우 이전 대화를 참조하세요

### 3. 메모리 관리
- 대화 히스토리는 자동으로 최근 6턴만 유지됩니다
- 필요시 "대화 초기화" 버튼으로 히스토리를 삭제하세요

## 🔧 문제 해결

### 1. API 키 오류
```
❌ OPENAI_API_KEY 환경변수가 설정되지 않았습니다.
```
**해결법**: 터미널에서 `export OPENAI_API_KEY="your-key"` 실행

### 2. 데이터 파일 없음
```
❌ JSON 데이터 디렉토리를 찾을 수 없습니다.
```
**해결법**: `data/preprocess.py` 스크립트를 먼저 실행하여 데이터 전처리

### 3. 패키지 설치 오류
```
❌ 패키지 설치 실패
```
**해결법**: 
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

### 4. 메모리 부족
- 문서 수가 많을 경우 메모리 부족이 발생할 수 있습니다
- `config/rag_config.yaml`에서 `batch_size`를 줄여보세요

## 📋 시스템 아키텍처

### 1. 데이터 플로우
```
JSON 파일 → 문서 로딩 → 청킹 → 임베딩 → 벡터 저장소 → 검색 → LLM 답변 생성
```

### 2. 주요 컴포넌트
- **RFPDataLoader**: JSON 파일 로딩
- **RFPChunker**: 문서 청킹
- **RFPEmbedder**: 임베딩 생성
- **RFPVectorStore**: 벡터 검색
- **RFPRetriever**: 검색 로직
- **RFPGenerator**: 답변 생성

### 3. 데이터 구조
각 RFP 문서는 다음 정보를 포함합니다:
- **메타데이터**: 공고번호, 사업명, 발주기관, 사업금액 등
- **페이지별 텍스트**: PDF에서 추출된 텍스트
- **표 데이터**: 구조화된 표 정보
- **결측값 정보**: 데이터 품질 메타데이터

## 🎯 활용 시나리오

### 1. 컨설턴트 업무 지원
- 매일 올라오는 수십 개의 RFP를 빠르게 스캔
- 고객사에 적합한 입찰 기회 식별
- 경쟁 분석 및 시장 동향 파악

### 2. 입찰 준비
- 요구사항 분석 및 체크리스트 생성
- 유사 사업 사례 검토
- 제안서 작성 가이드라인 확인

### 3. 시장 분석
- 발주기관별 사업 동향 분석
- 사업 규모별 특성 파악
- 기술 트렌드 및 요구사항 변화 추적

---

**문의사항이나 개선 제안이 있으시면 언제든 연락주세요!**
